(()=>{var e={967:(e,t)=>{var l;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=n(e,a(l)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)o.call(e,l)&&e[l]&&(t=n(t,l));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(l=function(){return r}.apply(t,[]))||(e.exports=l)}()}},t={};function l(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,a=window.wp.element,n=window.wp.compose,s=window.ReactJSXRuntime,i=e=>e.options.map(((l,o)=>(0,s.jsxs)(r.Flex,{justify:"flex-start",className:"popper-fields-row",children:[(0,s.jsx)(r.FlexItem,{children:(0,s.jsx)(r.Tooltip,{text:(0,t.__)("Mark as selected","popper"),children:(0,s.jsx)(r.CheckboxControl,{checked:l.selected,onChange:t=>e.onChange(t,o,"selected")})})}),e.showValue&&(0,s.jsx)(r.FlexItem,{children:(0,s.jsx)(r.TextControl,{placeholder:(0,t.__)("Value","popper"),value:l.value,onChange:t=>e.onChange(t,o,"value"),__nextHasNoMarginBottom:!0})}),(0,s.jsx)(r.FlexItem,{children:(0,s.jsx)(r.TextControl,{placeholder:(0,t.__)("Label","popper"),value:l.label,onChange:t=>e.onChange(t,o,"label"),__nextHasNoMarginBottom:!0})}),(0,s.jsx)(r.FlexItem,{children:(0,s.jsx)(r.Button,{size:"compact",icon:"no",onClick:()=>e.delete(l,o)})})]},o)));function c(e){const{onRequestClose:l,attributes:o,setAttributes:n}=e,[c,p]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1);return(0,s.jsx)(r.Modal,{title:(0,t.__)("Options","formello"),onRequestClose:l,className:"formello-modal",shouldCloseOnClickOutside:!1,children:(0,s.jsxs)(r.__experimentalVStack,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Bulk add","formello"),checked:c,onChange:e=>p(e)}),c&&(0,s.jsx)(r.TextareaControl,{label:(0,t.__)("Options","formello"),help:(0,t.__)("Enter one option per row separated by comma. Ex.: [US, United States Of America]","formello"),placeholder:(0,t.__)("Insert value and label separated by comma. Ex.: US, United States Of America","formello"),defaultValue:o.options.map((e=>e.value+","+e.label)).join("\r\n"),onChange:e=>(e=>{const t=e.match(/[^\r\n]+/g),l=[];for(const e in t){const o=t[e].split(",");l.push({value:o[0],label:o[1]?o[1]:o[0]})}n({options:l})})(e),rows:"6"}),!c&&(0,s.jsxs)(r.__experimentalVStack,{children:[(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Show value","formello"),checked:u,onChange:e=>d(e)}),(0,s.jsx)(i,{delete:(e,t)=>{const l=[...o.options];l.splice(t,1),n({options:l})},onChange:(e,t,l)=>{const r=[...o.options],a={...o.options[t]};a[l]=e,r[t]=a,n({options:r})},options:o.options,showValue:u}),(0,s.jsx)("div",{children:(0,s.jsx)(r.Button,{variant:"primary",size:"small",onClick:()=>{n({options:[...o.options,{label:"",value:""}]})},children:"Add option"})})]})]}),(0,s.jsx)(r.__experimentalHStack,{justify:"flex-end",children:(0,s.jsx)(r.Button,{variant:"primary",onClick:l,children:"Save"})})]})})}var p=l(967),u=l.n(p);const d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"popper/form-select","title":"Select","description":"Dropdown select.","category":"popper","ancestor":["popper/form"],"textdomain":"popper","attributes":{"id":{"type":"string","source":"attribute","selector":"select","attribute":"id"},"name":{"type":"string","source":"attribute","selector":"select","attribute":"name"},"label":{"type":"string","source":"html","selector":"label span:not(.required)","default":"My input"},"hideLabel":{"type":"boolean","selector":"label.hide","default":false},"options":{"type":"array","source":"query","selector":"option","query":{"value":{"type":"string","source":"attribute","attribute":"value"},"label":{"type":"string","source":"text"},"selected":{"type":"boolean","source":"attribute","attribute":"selected"}},"default":[{"label":"Select an option"},{"value":"1","label":"One"},{"value":"2","label":"Two"},{"value":"3","label":"Three"}]},"multiple":{"type":"boolean","source":"attribute","selector":"select","attribute":"multiple"},"required":{"type":"boolean","source":"attribute","selector":"select","attribute":"required"},"requiredText":{"type":"string","source":"text","selector":"label span.required","default":"*"},"disabled":{"type":"boolean","source":"attribute","selector":"select","attribute":"disabled"},"readonly":{"type":"boolean","source":"attribute","selector":"select","attribute":"readonly"},"showHelp":{"type":"boolean","default":false},"help":{"type":"string","source":"html","selector":"small","default":""}},"editorScript":"file:./index.js","render":"file:./render.php"}'),h=window.React;var m,b;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},x.apply(this,arguments)}(0,e.registerBlockType)(d,{icon:function(e){return h.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 16 16"},e),m||(m=h.createElement("path",{d:"M15 4H1c-.6 0-1 .4-1 1v6c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1m-5 7H1V5h9zm3-2.6L11 7h4z"})),b||(b=h.createElement("path",{fill:"#1e72bd",d:"M2 6h1v4H2z"})))},supports:{html:!1,reusable:!1},edit:function e(l){const{attributes:i,setAttributes:p}=l,{name:u,options:d,showHelp:h,help:m,readonly:b,multiple:x,disabled:f,hidden:g,label:j,required:v}=i,_=(0,n.useInstanceId)(e),[y,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{p({id:"popper-"+u+"-select-"+_})})),(0,a.useEffect)((()=>{u||p({name:"popper-select-"+_})}),[u,_,p]);const C=(0,o.useBlockProps)({className:"formello"}),k=(0,s.jsx)(o.InspectorControls,{children:(0,s.jsxs)(r.PanelBody,{title:(0,t.__)("Settings"),children:[(0,s.jsx)(r.TextControl,{autoComplete:"off",label:(0,t.__)("Name"),value:u,onChange:e=>{p({name:e})},help:(0,t.__)('Affects the "name" attribute of the input element, and is used as a name for the form submission results.',"popper")}),(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Hide label","popper"),checked:g,onChange:e=>{p({hidden:e})}}),(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Required","popper"),checked:v,onChange:e=>{p({required:e})}}),(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Multiple","popper"),checked:x,onChange:e=>{p({multiple:e})}}),(0,s.jsx)(r.Button,{variant:"primary",onClick:()=>w(!0),children:(0,t.__)("Manage options","popper")})]})});return(0,s.jsxs)("div",{...C,children:[k,(0,s.jsx)(o.InspectorControls,{children:(0,s.jsx)(o.BlockControls,{children:(0,s.jsx)(r.ToolbarGroup,{children:(0,s.jsx)(r.ToolbarButton,{label:(0,t.__)("Add options","formello"),icon:"editor-ul",onClick:()=>{w(!0)}})})})}),(0,s.jsxs)(a.Fragment,{children:[(0,s.jsxs)("div",{hidden:g,className:"popper-form-label",children:[(0,s.jsx)(o.RichText,{tagName:"span",value:j,onChange:e=>p({label:e}),"aria-label":j?(0,t.__)("Label"):(0,t.__)("Empty label"),"data-empty":!j,placeholder:(0,t.__)("Type the label for this input")}),v&&(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("select",{id:_,name:u,multiple:x,readOnly:b,disabled:f,defaultValue:(()=>{const e=d.filter((e=>!0===e.selected)).map((e=>e.value));return x?e:e[0]})(),children:d.map(((e,t)=>(0,s.jsx)("option",{value:e.value||e.label,children:e.label},t)))}),h&&(0,s.jsx)(o.RichText,{tagName:"small",value:m,onChange:e=>p({val:e}),placeholder:(0,t.__)("Enter help messageâ€¦","formello"),allowedFormats:["core/bold","core/italic","core/link"]})]}),y&&(0,s.jsx)(c,{...l,onRequestClose:()=>{w(!1)}})]})},save:function({attributes:e}){const{id:t,name:l,label:r,hideLabel:a,options:n,required:i,requiredText:c,showHelp:p,help:d,multiple:h,hidden:m}=e,b=u()("wp-block-form-input__label",{hide:a}),x=o.useBlockProps.save({className:"formello"}),f=n.filter((e=>!0===e.selected)).map((e=>e.value));return(0,s.jsxs)("div",{...x,children:[(0,s.jsxs)("label",{className:b,htmlFor:t,hidden:m,children:[(0,s.jsx)(o.RichText.Content,{tagName:"span",value:r}),i&&(0,s.jsx)("span",{className:"required",children:c})]}),(0,s.jsx)("select",{defaultValue:f,name:l,id:t,multiple:h,required:i,children:n.map(((e,t)=>(0,s.jsx)("option",{value:e.value||e.label,selected:e.selected,children:e.label},t)))}),p&&(0,s.jsx)(o.RichText.Content,{tagName:"small",value:d})]})}})})()})();